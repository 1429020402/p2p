$(function(){var o=!1,e=!1,r=!1;$("#user").blur(function(){var s=$("#user").val();/^[\u4e00-\u9fa5\w]{2,16}$/.test(s)?$.ajax({url:"http://127.0.0.1:8848/accrepeat.php",type:"get",data:{username:s},success:function(s){var l,e,r;"ok"===s?(o=!0,$("#user").css("border","1px solid green").next().html("").siblings("p").css("color","").closest("div").siblings("label").css("color","")):(o=!1,$("#user").css("border","1px solid #a94442").next().html("该用户名已经注册").siblings("p").css("color","#a94442").closest("div").siblings("label").css("color","#a94442"),l=1e3*Math.random().toFixed(2),(e=$("#user").val().split("")).push(l),r=e.join(""),$("#hint").html(r))}}):(o=!1,$("#user").css("border","1px solid #a94442").next().html("请输入一个长度介于 2 和 16 之间的字符串").siblings("p").css("color","#a94442").closest("div").siblings("label").css("color","#a94442"))}),$("#hint").click(function(){var s=$(this).html();$("#user").val(s),$("#user").blur(),$(this).html("")}),$("#pwd").blur(function(){var s=$("#pwd").val();/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/.test(s)?(e=!0,$("#pwd").css("border","1px solid green").next().html("").siblings("p").css("color","").closest("div").siblings("label").css("color","")):(e=!1,$("#pwd").css("border","1px solid #a94442").next().html("请输入一个长度介于 6 和 16 之间由数字和字母组成的字符串").siblings("p").css("color","#a94442").closest("div").siblings("label").css("color","#a94442"))}),$("#surepwd").blur(function(){var s=$("#surepwd").val(),l=$("#pwd").val();e?s==l?(r=!0,$("#surepwd").css("border","1px solid green").next().html("").siblings("p").css("color","").closest("div").siblings("label").css("color","")):(r=!1,$("#surepwd").css("border","1px solid #a94442").next().html("两次密码输入不一致，请重新输入").siblings("p").css("color","#a94442").closest("div").siblings("label").css("color","#a94442")):$("#surepwd").css("border","1px solid #a94442").next().html("两次密码输入不一致，请重新输入").siblings("p").css("color","#a94442").closest("div").siblings("label").css("color","#a94442")}),$("#Button").click(function(){var s=$("#user").val(),l=$("#pwd").val();if(!(r&&e&&o))return $("#pwd").blur(),$("#user").blur(),$("#surepwd").blur(),!1;$.ajax({url:"http://127.0.0.1:8848/reg.php",type:"post",data:{username:s,pwd:l,email:s+"@qq.com",nickname:s},success:function(s){"ok"===s?(alert("注册成功"),location.href="./enter.html"):alert("注册失败")}})}),$("#enter").click(function(){location.href="enter.html"})});